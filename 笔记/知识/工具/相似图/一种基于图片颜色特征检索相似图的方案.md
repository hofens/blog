# 一、缩略语和关键术语定义

**RGB**：RGB色彩模式是工业界的一种颜色标准，是通过对红（R）、绿（G）、蓝（B）三个颜色通道的变化以及它们相互之间的叠加来得到各式各样的颜色的，RGB即是代表红、绿、蓝三个通道的颜色，这个标准几乎包括了人类视力所能感知的所有颜色，是运用最广的颜色系统之一。
**Java Swing**：Swing是一个用于开发Java应用程序用户界面的开发工具包。

# 二、背景技术

## 1、相关技术背景
相似图片搜索技术是一种利用计算机视觉和机器学习技术，通过分析图片的视觉特征和内容，来寻找与指定图片相似的其他图片的技术。这种技术的背景包括图像特征提取、相似度度量、索引方法和大规模数据处理等方面的研究。常见的相似图片搜索技术包括基于特征描述子的方法（如 SIFT、SURF、ORB 等）、基于深度学习的方法（如 CNN 特征提取）以及基于哈希索引的方法等。这些技术的发展使得相似图片搜索在诸如电子商务、图像管理、安全监控等领域得到了广泛的应用。

## 2、与本发明相关的现有技术
相似图片搜索技术有多种方案，包括基于传统特征描述的方法、基于深度学习的方法以及基于哈希索引的方法等。
1. 基于传统特征描述子的方法：
    - 方案：使用传统的特征描述子如SIFT（尺度不变特征变换）、SURF（加速稳健特征）、ORB（Oriented FAST and Rotated BRIEF）等进行特征提取，并利用特征间的相似度度量方法（如欧氏距离、汉明距离等）进行相似图片搜索。
    - 缺点：对于大规模数据的搜索速度较慢，同时不太适用于处理复杂的场景和多样化的图像。
2. 基于深度学习的方法：
    - 方案：利用深度学习模型（如卷积神经网络）对图像进行特征提取，并通过计算特征向量之间的相似度进行相似图片搜索。
    - 缺点：对于小样本数据需求较大，需要大量训练数据，同时需要较强的计算资源。
3. 基于哈希索引的方法：
    - 方案：利用哈希函数将图像特征映射到低维度的二进制编码，并建立索引结构进行相似图片搜索。
    - 缺点：哈希方法可能会损失一定的特征信息，降低搜索的准确性，尤其在处理复杂图像时表现不佳。
综合来看，不同的相似图片搜索技术方案各有优缺点。基于传统特征描述子的方法对光照变化、旋转、尺度变化等具有一定的鲁棒性，但在大规模数据处理和复杂场景下表现较差；基于深度学习的方法能够学习复杂特征，适用于处理复杂场景下的相似图片搜索，但需要大量训练数据和较强的计算资源；基于哈希索引的方法适用于大规模数据的高效相似图片搜索，但可能会损失一定的特征信息。

# 三、本发明技术方案的技术概述

## 1、本发明要解决的技术问题：
1.研究高维颜色空间下的相似图片搜索算法，图片特征提取、相似度计算、数据存储与索引方案设计。
2.开发实际可用的检索工具，代码实现图片特征提取、相似度计算、数据存储与索引功能。该工具的实现需要考虑效率、准确性和用户友好性，并且需要进行充分的性能优化以处理大规模的图片数据。同时，需要确保用户界面友好，并提供直观的搜索结果展示。

## 2、技术原理简要说明：

**算法原理**：
任何一种颜色都是由红绿蓝三原色（RGB）构成，图片的每个像素点都有一个 RGB（如：0,255,255），统计每种颜色（RGB）在图片所有像素上出现的次数，可得出该图片的颜色特征。

例子：  
(0,0,0) 出现次数 10000 次  
(0,0,1) 出现次数 25 次  
...
(0,0,255) 出现次数 90 次
...
(255,255,255) 出现次数 1000 次
把这些用次数收集起来，得到集合{10000,25,..., 90,..., 1000}，这个就可以代表一张图片上分布 RGB 的情况。
但如果 R, G, B 统计都是 0-255 范围的话，有 255^3=1600 多万种组合。所以实际上为了简化计算，将 0～255 分成四个区：0～63 为第 0 区，64～127 为第 1 区，128～191 为第 2 区，192～255 为第 3 区，可以理解为把 R/G/B 都简化为了 4 种而不是 255 种，这样 RGB 的组合就只有 4^3=64 个。

分别对两个图片都这样操作，然后得到这个数据集合，再通过皮尔逊相关系数（一种计算两组数据是否存在相关性的算法）进行对比，就可以得出这两张图片的相似度。



**工具开发原理**：
1.使用 IDEA 编译器的插件开发接口进行工具开发
2.使用 Java Swing 进行工具 UI 以及交互开发
3.将算法转化为代码进行实现
4.工具检索功能调用算法接口


# 四、本发明技术方案的具体实施

## 1、详细描述本发明为解决前文所提到的技术问题, 采用了那些技术方案细节, 为什么需要采用这些技术细节

1. 生成像素点 RGB 色值集合：遍历像素点，将每个像素点的颜色 RGB 数据值存入集合中。
2. 简化颜色空间：将每种原色的取值范围 0-255 分成四个区，得到 64 种颜色组合。
3. 统计颜色组合：统计每种颜色组合包含的像素数量，得到关于颜色分布的 64 维向量，称为图片的“指纹”或特征值。

5. 相似度计算：通过计算两张图片的 64 维向量之间的相似度，可以使用皮尔逊相关系数或者余弦相似度来衡量向量之间的相似程度，从而判断两张图片的相似程度。
6. 数据存储与索引：将图片的特征向量以键值对的形式存储在 json 文件中，以支持高效的相似图片搜索。
7. 工具交互：提供相似程度筛选、待检索相似图预览、搜索结果预览、拖拽上传文件等功能
8. 相似程度筛选：根据相似度设置，可返回不同相似程度图片。相似度为 1 则为检索相同图片，如果没有相同图片，可适当降低相似度查找，会搜寻指定相似度以上的图片（如 0.8，会查找>=0.8 相似程度图片）
9. 待检索相似图预览：提供图片文件名称、大小、尺寸等信息便于用户查看
10. 搜索结果预览：列表展示检索结果，包含文件路径、信息等便于用户查看



## 2、本发明带来的有益效果：

该发明简化了颜色特征的提取方式，降低了计算复杂度，使得相似图片搜索更加高效。同时，利用 64 维特征向量表示图片，能够有效地捕捉到图片的颜色分布特征，实现了对相似图片的有效识别。
另外该发明开发实际可用工具，能够方便快捷的查找出相似图片，降低图片检索的成本。

## 3、针对上述技术方案是否还有替代方案同样能完成发明目的：

除了基于颜色直方图的相似图片搜索方法外，还可以利用基于深度学习的方法来学习图片颜色分布的特征表示，通过神经网络等技术实现相似图片搜索。此外，也可以考虑使用局部特征描述子（如 SIFT、SURF）或者基于哈希索引的方法来进行相似图片搜索。这些方法可能会在精度、鲁棒性或者适用场景等方面有所差异，需要根据具体应用需求进行选择。



# 五、附件
参考文献
https://www.ruanyifeng.com/blog/2013/03/similar_image_search_part_ii.html
https://www.ruanyifeng.com/blog/2011/07/principle_of_similar_image_search.html
https://www.runnable.run/archives/javashixainwenzhangxaingsidubijiao

工具截图：
![](http://km.fp.ps.netease.com/file/65322a1e94064f5d24433301W3eV4y0m05)


第一发明人名字：黄厚锋
